{% extends 'back.html.twig' %}

{% block title %}Edit Service{% endblock %}

{% block body %}
	<link rel="stylesheet" href="{{ asset('css/ServiceForm.css') }}">

	<h1 class="text-center mt-5">Edit Service</h1>

	<section class="container mt-4">
		<div class="row justify-content-center">
			<div class="col-md-8">

				<div class="card mx-auto" style="width: 600px;">
					<div class="card-body" style="padding: 20px;">

						{{ form_start(form, {'attr': {'novalidate': 'novalidate'}, 'enctype': 'multipart/form-data'}) }}

						<div class="form-group">
							{{ form_label(form.servicename) }}
							{{ form_widget(form.servicename) }}
							<div class="error-message">{{ form_errors(form.servicename) }}</div>
						</div>

						<img src="{{ asset('uploads/images/' ~ oldImg) }}" alt="Old Image" class="img-fluid mb-3">

						<div class="form-group">
							{{ form_label(form.img) }}
							{{ form_widget(form.img) }}
						</div>

						<div class="form-group">
							{{ form_label(form.price) }}
							{{ form_widget(form.price) }}
							<div class="error-message">{{ form_errors(form.price) }}</div>
						</div>

						<div class="form-group">
							{{ form_label(form.description) }}
							{{ form_widget(form.description) }}
							<div class="error-message">{{ form_errors(form.description) }}</div>
						</div>

						<div class="button-group">
							<button type="submit" class="btn bg-success">{{ button_label|default('Save') }}</button>
						</div>

						{{ form_end(form) }}

						<form method="post" action="{{ path('app_service_delete', {'serviceid': service.serviceid}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
							<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ service.serviceid) }}">
							<button type="submit" class="btn bg-danger">Delete</button>
						</form>

						<a href="{{ path('app_service_index') }}" class="btn btn-secondary mt-3">Back to List</a>

					</div>
				</div>

			</div>
		</div>
	</section>
{% endblock %}
